<h1 class="mt-3">Selectores anidados</h1>
<hr />

<form [formGroup]="myForm">
  <!-- Region -->
  <div class="row mb-3">
    <div class="col">
      <label class="form-label">Continente:</label>
      <select formControlName="region" class="form-select">
        <option value="">-- Seleccione Continente --</option>
        @for( region of regions; track region ) {
          <option [value]="region">{{ region }}</option>
        }
      </select>
    </div>
  </div>

  <!-- Countries -->
  @if (countriesByRegion.length > 0) {
    <div class="row mb-3">
      <div class="col">
        <label class="form-label">País:</label>
        <select formControlName="country" class="form-select">
          <option value="">-- Seleccione País --</option>
          @for( country of countriesByRegion; track country.cca3 ) {
            <option [value]="country.cca3">{{ country.name }}</option>
          }
        </select>
      </div>
    </div>
  }

  <!-- Borders -->
  @if (borders.length > 0) {
    <div class="row mb-3">
      <div class="col">
        <label class="form-label">Fronteras:</label>
        <select formControlName="border" class="form-select">
          <option value="">-- Seleccione la frontera --</option>
          @for( border of borders; track border.cca3 ) {
            <option [value]="border.cca3">{{ border.name }}</option>
          }
        </select>
      </div>
    </div>
  }
</form>

<h3 class="mt-4">Fronteras Seleccionadas</h3>
<hr>

@if (borderCountries.length > 0) {
  <table class="table table-dark table-striped table-hover mt-3">
    <thead>
      <tr>
        <th>Código</th>
        <th>Nombre del País Fronterizo</th>
      </tr>
    </thead>
    <tbody>
      @for( border of borderCountries; track border.cca3 ) {
        <tr>
          <td>{{ border.cca3 }}</td>
          <td>{{ border.name }}</td>
        </tr>
      }
    </tbody>
  </table>
} @else {
  <div class="alert alert-secondary mt-3">
    No hay fronteras para mostrar (selecciona un país primero) o el país no tiene fronteras.
  </div>
}

<h3 class="mt-5">Formulario</h3>
<code>
  {{ myForm.value | json }}
</code>
<p class="mt-2">is form valid: {{ myForm.valid }}</p>
